let config = {
  env: process.env.NODE_ENV,
  prefix: 'api',
  version: 'v1'
}

if (config.env !== 'production') {
  const fs = require('fs')
  const path = require('path')
  const key = fs.readFileSync(
    path.resolve('./config/priv-key.ppk'),
    'utf-8'
  )
  const cert = fs.readFileSync(
    path.resolve('./config/pub-cert.ppk'),
    'utf-8'
  )
  Object.assign(config, {
    protocol: 'https',
    host: 'example.org',
    port: 443,
    redirect: 80,
    key,
    cert
  })
} else {
  Object.assign(config, {
    protocol: 'http',
    host: 'localhost:3000',
    port: 3000
  })
}

module.exports = config
